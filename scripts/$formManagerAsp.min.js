function getFormElements(n){var t,i=$("#"+n).find(":input, a");elementLog&&console.log("# elementx: "+i.length);elementCur=0;elements=[];$(i).each(function(){t=$(this)[0];t.style.display!=="none"&&t.tabIndex>0&&(elementLog&&console.log(elementCur+", "+t.id+", "+t.type+", "+t.tabIndex),elementCur++,elements.push(t.id))});elementMax=elements.length-1;elementLog&&console.log("elements str:0, end:"+elementMax)}function stopRKey(n){n=n?n:event?event:null;var t=n.target?n.target:n.srcElement?n.srcElement:null;if(n.keyCode===13&&(t.type==="text"||t.type==="checkbox"||t.type==="password"))return!1}var elementMax=0,elementCur=0,elements=[],elementLog=!0;elementLog&&console.log("starting...");$(function(){$(document).on("keypress",function(n){var i=this.activeElement,u=i.id,r=i.type,t=$.inArray(u,elements);n.which===13&&r!=="textarea"&&(t===elementMax?r==="submit":(t++,elementLog&&console.log("focus: #"+elements[t]),$("#"+elements[t])[0].focus()))});$(document).on("keydown",function(n){var t=this.activeElement.id;elementCur=$.inArray(t,elements);n.which!==9||n.shiftKey||(elementCur===elementMax?n.preventDefault():elementCur++,elementLog&&console.log("focus: #"+elements[elementCur]));n.which===9&&n.shiftKey&&(elementCur===0?n.preventDefault():elementCur--,elementLog&&console.log("focus: #"+elements[elementCur]))})});document.onkeypress=stopRKey;