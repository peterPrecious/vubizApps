var $vc={};$vc.fn={};$vc.startState={};$vc.sessionState={};$vc.sessionState={};$vc.deviceState={};$vc.appState={};$vc.customerState={};$vc.memberState={};$vc.catalogueState={};$vc.fn.initialized=!1;$vc.fn=function(){var n=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0},t=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0};return{getStartState:function(){var n=$("#startState")[0].innerHTML.split("|");$vc.startState.appId=n[0];$vc.startState.host=n[5];$vc.startState.debug=n[4];$vc.startState.lang=n[7];$vc.startState.parentId=$vc.startState.appId;$vc.fn.putData()},getCookies:function(){$.cookie("$vc."+$vc.startState.parentId+".app")!==null&&($vc.appState=$.parseJSON($.cookie("$vc."+$vc.startState.parentId+".app")));$.cookie("$vc."+$vc.startState.parentId+".device")!==null&&($vc.deviceState=$.parseJSON($.cookie("$vc."+$vc.startState.parentId+".device")));$.cookie("$vc."+$vc.startState.parentId+".member")!==null&&($vc.memberState=$.parseJSON($.cookie("$vc."+$vc.startState.parentId+".member")));$.cookie("$vc."+$vc.startState.parentId+".appInstance")!==null&&($vc.appInstanceState=$.parseJSON($.cookie("$vc."+$vc.startState.parentId+".appInstance")));$.cookie("$vc."+$vc.startState.parentId+".memberAppInstance")!==null&&($vc.memberAppInstanceState=$.parseJSON($.cookie("$vc."+$vc.startState.parentId+".memberAppInstance")));$.cookie("$vc."+$vc.startState.parentId+".reminder")!==null&&($vc.reminderState=$.parseJSON($.cookie("$vc."+$vc.startState.parentId+".reminder")));$.cookie("$vc."+$vc.startState.parentId+".session")!==null&&($vc.sessionState=$.parseJSON($.cookie("$vc."+$vc.startState.parentId+".session")));$vc.sessionState.secure===undefined&&($vc.sessionState.secure=!1)},setCookies:function(){$.cookie("$vc."+$vc.appState.parentId+".app",JSON.stringify($vc.appState));$.cookie("$vc."+$vc.appState.parentId+".device",JSON.stringify($vc.deviceState));$.cookie("$vc."+$vc.appState.parentId+".member",JSON.stringify($vc.memberState));$.cookie("$vc."+$vc.appState.parentId+".appInstance",JSON.stringify($vc.appInstanceState));$.cookie("$vc."+$vc.appState.parentId+".memberAppInstance",JSON.stringify($vc.memberAppInstanceState));$.cookie("$vc."+$vc.appState.parentId+".reminder",JSON.stringify($vc.reminderState));$vc.sessionState.rememberMe?$.cookie("$vc."+$vc.appState.parentId+".session",JSON.stringify($vc.sessionState),{expires:30}):$.cookie("$vc."+$vc.appState.parentId+".session",JSON.stringify($vc.sessionState))},endCookies:function(){$.cookie("$vc."+$vc.appState.parentId+".app","",{expires:-30});$.cookie("$vc."+$vc.appState.parentId+".device","",{expires:-30});$.cookie("$vc."+$vc.appState.parentId+".member","",{expires:-30});$.cookie("$vc."+$vc.appState.parentId+".appInstance","",{expires:-30});$.cookie("$vc."+$vc.appState.parentId+".reminder","",{expires:-30});$.cookie("$vc."+$vc.appState.parentId+".session","",{expires:-30})},initData:function(){$.support.localStorage&&($.sessionStorage("start")===null&&$.sessionStorage("start","{}"),$.sessionStorage("parameter")===null&&$.sessionStorage("parameter","{}"),$.localStorage("session")===null&&$.localStorage("session","{}"),$.localStorage("device")===null&&$.localStorage("device","{}"),$.localStorage("app")===null&&$.localStorage("app","{}"),$.localStorage("customer")===null&&$.localStorage("customer","{}"),$.localStorage("member")===null&&$.localStorage("member","{}"),$.localStorage("catalogue")===null&&$.localStorage("catalogue","{}"))},getData:function(){$.support.localStorage&&($vc.startState=$.parseJSON($.sessionStorage("start")),$vc.sessionState=$.parseJSON($.sessionStorage("parameter")),$vc.sessionState=$.parseJSON($.localStorage("session")),$vc.deviceState=$.parseJSON($.localStorage("device")),$vc.appState=$.parseJSON($.localStorage("app")),$vc.customerState=$.parseJSON($.localStorage("customer")),$vc.memberState=$.parseJSON($.localStorage("member")),$vc.catalogueState=$.parseJSON($.localStorage("catalogue")))},putData:function(){$.support.localStorage&&($.sessionStorage("start",JSON.stringify($vc.startState)),$.sessionStorage("parameter",JSON.stringify($vc.sessionState)),$.localStorage("session",JSON.stringify($vc.sessionState)),$.localStorage("device",JSON.stringify($vc.deviceState)),$.localStorage("app",JSON.stringify($vc.appState)),$.localStorage("customer",JSON.stringify($vc.customerState)),$.localStorage("member",JSON.stringify($vc.memberState)),$.localStorage("catalogue",JSON.stringify($vc.catalogueState)))},endData:function(){var n=$.localStorage();n.clear()},setAppState:function(){$vc.appState.id=$vc.startState.appId;$vc.appState.parentId=$vc.startState.parentId;$vc.appState.debug=$vc.startState.debug==="debug=y";$vc.appState.lang="EN"},deviceCheck:function(){$vc.deviceState.type=$vc.startState.type;$vc.deviceState.host=$vc.startState.host;$vc.deviceState.width=n();$vc.deviceState.height=t();$vc.deviceState.size=$vc.deviceState.width>1024?"desktop":$vc.deviceState.width<600?"phone":"tablet";$vc.appState.debug&&$("body").addClass("ui-mini")},restoreState:function(){$vc.sessionState.debug=!1;$vc.sessionState.custId=ifElse($vc.startState.custId,"CFIB5288")},parseError:function(n){var t;return t=JSON.parse(n),t=t.message,t=JSON.stringify(t),t=t.replace('"',""),t.replace('"',"")},popup:function(n,t){n=n.replace(/,/g,", ");$("#globalPopupText").html(n);isTrue(t)?$("#globalPopupClose").show():$("#globalPopupClose").hide();$("#globalPopup").popup("open")},console:function(){}}}();$(document).on("pagebeforecreate",function(){$vc.fn.initialized||($vc.fn.initialized=!0,$.ajaxSetup({cache:!1}),$vc.fn.initData(),$vc.fn.getData(),$vc.fn.getStartState(),$vc.fn.deviceCheck(),$vc.fn.setAppState(),$vc.fn.putData(),$vc.fn.restoreState())});$(function(){$(window).resize(function(){var n;clearTimeout(n);n=setTimeout($vc.fn.deviceCheck,50)});$(document).bind("pagebeforeshow",function(){var t,n;$vc.fn.console($.mobile.activePage[0].id);t=!1;t&&($vc.sessionState.secure===!1?($(".signOff").hide(),$(".secure").hide(),$(".next").hide()):($(".signIn").hide(),$(".notSecure").hide(),window.location.href.indexOf("?appId="+$vc.appState.parentId+"_")===-1?($vc.appState.id=$vc.appState.parentId,$(".next").show()):$(".next").hide()),$(".guest, .member, .administrator").hide(),$vc.memberState.globalRole===undefined?$vc.memberState.globalRole="anonymous":$vc.memberState.globalRole.toLowerCase()==="guest"?$(".guest").show():$vc.memberState.globalRole.toLowerCase()==="member"?$(".guest, .member").show():$vc.memberState.globalRole.toLowerCase()==="administrator"&&$(".guest, .member, .administrator").show(),$vc.memberAppInstanceState.globalRole!==undefined&&($(".user, .facilitator, .manager").hide(),$vc.memberAppInstanceState.role.toLowerCase()==="user"?$(".user").show():$vc.memberAppInstanceState.role.toLowerCase()==="facilitator"?$(".user, .facilitator").show():$vc.memberAppInstanceState.role.toLowerCase()==="manager"&&$(".user, .facilitator, .manager").show()),n=$vc.memberState.classes.split(" "),n.length>1&&($(".facilitator, .manager, .administrator, .architect").hide(),$.each(n,function(n,t){$("."+t).show()})))});$(document).on("pageload",function(){$("textarea[maxlength]").keyup(function(){var n=parseInt($(this).attr("maxlength"));$(this).val().length>n&&$(this).val($(this).val().substr(0,$(this).attr("maxlength")))})});$(".help-popup").on("click",function(){$(this).popup("close")});$("#globalPopup").enhanceWithin().popup();$(".sessionState").on("click",function(){if($vc.startState.debug==="debug=y"){var n="Session Objects:<br /><br />start:<br />"+JSON.stringify($vc.startState)+"<br /><br />parameter:<br />"+JSON.stringify($vc.sessionState)+"<br /><br />session:<br />"+JSON.stringify($vc.sessionState)+"<br /><br />device:<br />"+JSON.stringify($vc.deviceState)+"<br /><br />app:<br />"+JSON.stringify($vc.appState)+"<br /><br />customer:<br />"+JSON.stringify($vc.customerState)+"<br /><br />member:<br />"+JSON.stringify($vc.memberState);$vc.fn.popup(n)}})});