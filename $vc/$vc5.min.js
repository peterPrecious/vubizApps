"use strict";var $vc={},$vc_profile;$vc.sessionState={};$vc.startState={};$vc.videoState={};$vc.tileState={};$vc.profileState={};$vc.customerState={};$vc.memberState={};$vc.catalogueState={};$vc.langState={};$vc.parmState={};$vc.fn={};$vc.initialized=!1;$vc.sessionState.reportByGuest=!1;$vc.globalConfirm="null";$vc_profile="";document.location.hash="";$vc.ws=function(n,t,i,r){var u=$.ajax({type:"POST",dataType:isOk(t.dataType)?t.dataType:"json",asynch:!1,url:isOk(t.url)?t.url+n:"/vubizWs/v8client.asmx/"+n,data:t});u.done(function(n){i(n)});u.fail(function(n,t){r(n,t)})};$vc.fn=function(){var n=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0},t=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0};return{initData:function(){$.localStorage($vc.sessionState.appId)===null&&$.localStorage($vc.sessionState.appId,"{}");$vc.fn.console("completed initData")},startData:function(){var t=$("#startState")[0].innerHTML.split("|"),n=-1;n++;$vc.startState.appId=t[n];n++;$vc.startState.appProfile=t[n];n++;$vc.startState.appVersion=t[n];n++;$vc.startState.appVideos=t[n];n++;$vc.startState.cancelUrl=t[n];n++;$vc.startState.custAcctId=t[n];n++;$vc.startState.custGuid=t[n];n++;$vc.startState.custId=t[n];n++;$vc.startState.debug=t[n]==="y"?!0:!1;n++;$vc.startState.host=t[n];n++;$vc.startState.lang=t[n];n++;$vc.startState.membEmail=t[n];n++;$vc.startState.membFirstName=t[n];n++;$vc.startState.membGuid=t[n];n++;$vc.startState.membId=t[n];n++;$vc.startState.membLastName=t[n];n++;$vc.startState.membNo=t[n];n++;$vc.startState.pageId=t[n];n++;$vc.startState.parmCount=t[n];n++;$vc.startState.profileDefault=t[n];n++;$vc.startState.profileUrl=t[n];n++;$vc.startState.profile=t[n];n++;$vc.startState.returnUrl=t[n];n++;$vc.startState.rteHost=t[n];n++;$vc.startState.startPage=t[n];n++;$vc.startState.storeId=t[n];n++;$vc.startState.translate=t[n];$vc.fn.console("completed startData")},tileData:function(){var n=$("#tileState")[0].innerHTML;n!==""?($vc.tileState=$.parseJSON(n),$vc.fn.console("completed tileData")):$vc.fn.console("no tileData")},getData:function(){var n=!0,t;$vc.sessionState=$.parseJSON($.localStorage($vc.sessionState.appId));$vc.startState.appVersion!==ok($vc.sessionState.appVersion)&&(n=!1);$vc.startState.profile!==ok($vc.sessionState.profile)&&(n=!1);$vc.startState.parmCount>0&&(n=!1);n?$vc.fn.console("restored localStorage"):(t=$.localStorage(),t.clear(),$vc.sessionState={},$vc.fn.console("purged localStorage"));$vc.fn.console("completed getData");$vc.sessionState.prevPage="";$vc.sessionState.currPage=""},sessionData:function(){$vc.sessionState.appId=$vc.startState.appId;$vc.sessionState.appVersion=$vc.startState.appVersion;$vc.sessionState.custGuid=$vc.startState.custGuid;$vc.sessionState.custId=$vc.startState.custId;$vc.sessionState.lang=$vc.startState.lang;$vc.sessionState.membGuid=$vc.startState.membGuid;$vc.sessionState.membId=$vc.startState.membId;$vc.sessionState.membNo=$vc.startState.membNo;$vc.sessionState.profile=$vc.startState.profile;$vc.sessionState.returnUrl=$vc.startState.returnUrl;$vc.sessionState.storeId=$vc.startState.storeId;$vc_profile=$vc.sessionState.profile;$vc.fn.console("completed sessionData")},deviceData:function(){$vc.startState.deviceWidth=n();$vc.startState.deviceHeight=t();$vc.startState.deviceClass=$vc.startState.deviceWidth>1024?"desktop":$vc.startState.deviceWidth<600?"phone":"tablet";$vc.startState.debug&&$("body").addClass("ui-mini");$vc.fn.console("completed deviceData")},profileData:function(){var t=$("#profileState")[0].innerHTML.split("|"),n=-1,i;n++;$vc.profileState.autoEnroll=t[n]==="True"?!0:!1;n++;$vc.profileState.autoEnrollWs=t[n]==="True"?!0:!1;n++;$vc.profileState.autoSignIn=t[n]==="True"?!0:!1;n++;$vc.profileState.certPrograms=t[n];n++;$vc.profileState.certPrograms_E=t[n];n++;$vc.profileState.color=t[n];n++;$vc.profileState.contentSource=t[n];n++;$vc.profileState.custId=t[n];n++;$vc.profileState.ecommerce=t[n]==="True"?!0:!1;n++;$vc.profileState.emailFrom=t[n];n++;$vc.profileState.guests=t[n]==="True"?!0:!1;n++;$vc.profileState.guests_E=t[n]==="True"?!0:!1;n++;$vc.profileState.jit=t[n]==="True"?!0:!1;n++;$vc.profileState.lang=t[n];n++;$vc.profileState.langEn=t[n]==="True"?!0:!1;n++;$vc.profileState.langFr=t[n]==="True"?!0:!1;n++;$vc.profileState.langEs=t[n]==="True"?!0:!1;n++;$vc.profileState.langPt=t[n]==="True"?!0:!1;n++;$vc.profileState.logo=t[n];n++;$vc.profileState.memb_E=t[n]==="True"?!0:!1;n++;$vc.profileState.password=t[n]==="True"?!0:!1;n++;$vc.profileState.portal=t[n]==="True"?!0:!1;n++;$vc.profileState.returnUrl=t[n];n++;$vc.profileState.showSoloPrograms=t[n]==="True"?!0:!1;n++;$vc.profileState.sso=t[n];n++;$vc.profileState.storeId=t[n];n++;$vc.profileState.videos=t[n]==="True"?!0:!1;n++;$vc.profileState.vukidz=t[n]==="True"?!0:!1;$vc.sessionState.certPrograms=$vc.profileState.certPrograms;$vc.sessionState.certPrograms_E=$vc.profileState.certPrograms_E;$vc.sessionState.contentSource=$vc.profileState.contentSource;$vc.sessionState.ecommerce=$vc.profileState.ecommerce;$vc.sessionState.guests=$vc.profileState.guests;$vc.sessionState.guests_E=$vc.profileState.guests_E;$vc.sessionState.jit=$vc.profileState.jit;$vc.sessionState.memb_E=$vc.profileState.memb_E;$vc.sessionState.password=$vc.profileState.password;$vc.sessionState.portal=$vc.profileState.portal;$vc.sessionState.returnUrl=$vc.profileState.returnUrl;$vc.sessionState.showSoloPrograms=$vc.profileState.showSoloPrograms;$vc.sessionState.storeId=$vc.profileState.storeId;$vc.sessionState.videos=$vc.profileState.videos;$vc.sessionState.vukidz=$vc.profileState.vukidz;$vc.profileState.returnUrl!==""&&($vc.sessionState.returnUrl=$vc.profileState.returnUrl);$vc.startState.returnUrl!==""&&($vc.sessionState.returnUrl=$vc.startState.returnUrl);$vc.profileState.cancelUrl!==""&&($vc.sessionState.cancelUrl=$vc.profileState.cancelUrl);$vc.startState.cancelUrl!==""&&($vc.sessionState.cancelUrl=$vc.startState.cancelUrl);$vc.profileState.storeId!==""&&($vc.sessionState.storeId=$vc.profileState.storeId);$vc.startState.storeId!==""&&($vc.sessionState.storeId=$vc.startState.storeId);$vc.sessionState.custId.length!==8&&$vc.profileState.custId.length===8&&($vc.sessionState.custId=$vc.profileState.custId);$vc.sessionState.lang=$vc.startState.lang==="fr"?"fr":$vc.sessionState.lang.length===2?$vc.profileState.lang:"en";$vc.startState.lang==="fr"&&($vc.profileState.langFr||(alert("This app is not available in French;"),$vc.sessionState.lang=$vc.profileState.lang));$vc.startState.lang==="es"&&($vc.profileState.langEs||(alert("This app is not avilable in Spanish;"),$vc.sessionState.lang=$vc.profileState.lang));$vc.startState.lang==="pt"&&($vc.profileState.langPt||(alert("This app is not avilable in Portuguese;"),$vc.sessionState.lang=$vc.profileState.lang));$vc.startState.appVideos===0&&$(".videoIcon").hide();i=0;$vc.profileState.langEn&&i++;$vc.profileState.langFr&&i++;$vc.profileState.langEs&&i++;$vc.profileState.langPt&&i++;i>1&&($(".langButton").removeClass("langButtonShadow"),$vc.profileState.langEn&&$(".langButton_en").show(),$vc.profileState.langFr&&$(".langButton_fr").show(),$vc.profileState.langEs&&$(".langButton_es").show(),$vc.profileState.langPt&&$(".langButton_pt").show(),$(".langButton_"+$vc.sessionState.lang).addClass("langButtonShadow"),$(".langButtons").show());$vc.fn.console("completed profileData")},videoData:function(){$vc.startState.appVideos==="1"&&$vc.profileState.videos&&$.getJSON("apps/"+$vc.sessionState.appId+"/_videos.json",function(n){var t="{";$.each(n,function(n,i){switch($vc.sessionState.lang){case"en":i.videoEn.length>0&&(t+='"'+i.videoPage+'":"'+i.videoEn+'", ');break;case"fr":i.videoFr.length>0&&(t+='"'+i.videoPage+'":"'+i.videoFr+'", ');break;case"es":i.videoEs.length>0&&(t+='"'+i.videoPage+'":"'+i.videoEs+'", ');break;case"pt":i.videoPt.length>0&&(t+='"'+i.videoPage+'":"'+i.videoPt+'", ')}});t=t.substring(0,t.length-2)+"}";$vc.videoState=$.parseJSON(t)})},putData:function(){$.localStorage($vc.sessionState.appId,JSON.stringify($vc.sessionState));$vc.fn.console("completed putData")},endData:function(){var n=$.localStorage();n.clear();$vc.fn.console("completed endData")},parseError:function(n){var t;return t=JSON.parse(n),t=t.message,t=JSON.stringify(t),t=t.replace('"',""),t.replace('"',"")},popup:function(n,t){$("#globalPopup").css("width",function(){return ifElse(t,400)});n=n.replace(/,/g,", ");$("#globalPopupText").html(n);$("#globalPopup").popup("open")},popupClose:function(){$("#globalPopup").popup("close")},dialogue:function(n,t){t=t.replace(/,/g,", ");$("#globalConfirmTrue").attr("onclick","$vc.globalConfirm='"+n+"_true'");$("#globalConfirmFalse").attr("onclick","$vc.globalConfirm='"+n+"_false'");$("#globalConfirmText").html(t);$("#globalConfirm").enhanceWithin().popup();$("#globalConfirm").popup("open")},console:function(n){console.log(n)}}}();$(document).on("pagebeforecreate",function(){$vc.initialized||($vc.initialized=!0,$.ajaxSetup({cache:!1}),$("#globalPopup").enhanceWithin().popup(),$("#globalConfirm").enhanceWithin().popup(),$vc.sessionState.appId=$("#startState")[0].innerHTML.split("|")[0],$.when($vc.fn.initData(),$vc.fn.startData(),$vc.fn.getData(),$vc.fn.sessionData(),$vc.fn.tileData(),$vc.fn.deviceData(),$vc.fn.profileData(),$vc.fn.videoData(),$vc.fn.putData()).then(function(){$vc.fn.console("completed all session states")}))});$(document).on("pagecontainerbeforeshow",function(){var n=$(":mobile-pagecontainer").pagecontainer("getActivePage").prop("id");$vc.fn.console(n);$vc.sessionState.currPage=ok($vc.sessionState.currPage);n!==$vc.sessionState.currPage&&($vc.sessionState.currPage!==""&&($vc.sessionState.prevPage=$vc.sessionState.currPage),$vc.sessionState.currPage=n,$vc.fn.putData());$vc.startState.appVideos==="1"&&($(".videoIcon").css({display:"none"}),$.each($vc.videoState,function(t){if(n==="page_"+t)return $(".videoIcon").show(),!1}))});$(function(){$(window).resize(function(){var n;clearTimeout(n);n=setTimeout($vc.fn.deviceData,1e3)});$(document).on("pageload",function(){$("textarea[maxlength]").keyup(function(){var n=parseInt($(this).attr("maxlength"));$(this).val().length>n&&$(this).val($(this).val().substr(0,$(this).attr("maxlength")))})});$(".help-popup").on("click",function(){$(this).popup("close")});$(".sessionState").on("click",function(){if($vc.startState.debug){var n="Session Objects:<br /><br />session:<br />"+JSON.stringify($vc.sessionState)+"<br /><br />";JSON.stringify($vc.startState)!=="{}"&&(n+="start:<br />"+JSON.stringify($vc.startState)+"<br /><br />");JSON.stringify($vc.customerState)!=="{}"&&(n+="customer:<br />"+JSON.stringify($vc.customerState)+"<br /><br />");JSON.stringify($vc.memberState)!=="{}"&&(n+="member:<br />"+JSON.stringify($vc.memberState)+"<br /><br />");JSON.stringify($vc.catalogueState)!=="{}"&&(n+="catalogue:<br />"+JSON.stringify($vc.catalogueState)+"<br /><br />");JSON.stringify($vc.profileState)!=="{}"&&(n+="profile:<br />"+JSON.stringify($vc.profileState)+"<br /><br />");JSON.stringify($vc.langState)!=="{}"&&(n+="lang:<br />"+JSON.stringify($vc.langState)+"<br /><br />");JSON.stringify($vc.videoState)!=="{}"&&(n+="video:<br />"+JSON.stringify($vc.videoState)+"<br /><br />");$vc.fn.popup(n,$vc.startState.deviceWidth*.8)}});$(".backIcon").on("click",function(){$vc.sessionState.prevPage!==""&&$(":mobile-pagecontainer").pagecontainer("change","#"+$vc.sessionState.prevPage)});$(".videoIcon").on("click",function(){$.each($vc.videoState,function(n,t){if($vc.sessionState.currPage==="page_"+n)return window.open("video.html?url="+encodeURIComponent(t)),!1})});$("input:text").textinput({clearBtn:!0})});